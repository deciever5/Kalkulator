"""
Multi-language support for KAN-BUD Container Calculator
Supports Polish, English, Dutch, and German
"""

translations = {
    'en': {
        'app_title': 'KAN-BUD Professional Container Solutions',
        'app_subtitle': 'Advanced Steel Container Modification & Cost Estimation Platform',
        'navigation': 'Navigation',
        'pages_available': 'Pages Available:',
        'container_configurator': 'Container Configurator',
        'ai_cost_estimator': 'AI Cost Estimator',
        'technical_analysis': 'Technical Analysis',
        'quote_generator': 'Quote Generator',
        'comparison_tool': 'Comparison Tool',
        'quick_stats': 'Quick Stats',
        'available_container_types': 'Available Container Types',
        'standard_sizes': 'Standard Sizes',
        'modification_categories': 'Modification Categories',
        'quick_overview': 'Quick Overview',
        'container_modification_services': 'Container Modification Services:',
        'key_features': 'Key Features',
        'ai_powered_analysis': 'AI-Powered Analysis:',
        'sales_tools': 'Sales Tools',
        'professional_outputs': 'Professional Outputs:',
        'market_insights': 'Market Insights',
        'steel_price_trends': 'Steel Price Trends 2024',
        'quick_actions': 'Quick Actions',
        'new_container_project': 'New Container Project',
        'get_ai_cost_estimate': 'Get AI Cost Estimate',
        'view_technical_analysis': 'Technical Analysis',
        'generate_quote': 'Generate Quote',
        'tips': 'Tips',
        'best_practices': 'Best Practices:',
        'configure_container': 'Configure your container specifications and modifications',
        'base_container_specs': 'Base Container Specifications',
        'container_type': 'Container Type',
        'length': 'Length (m)',
        'width': 'Width (m)',
        'height': 'Height (m)',
        'weight': 'Weight (kg)',
        'intended_use_case': 'Intended Use Case',
        'primary_use_case': 'Primary Use Case',
        'expected_occupancy': 'Expected Occupancy',
        'environment': 'Environment',
        'modification_requirements': 'Modification Requirements',
        'structural_modifications': 'Structural Modifications',
        'number_of_windows': 'Number of Windows',
        'number_of_doors': 'Number of Doors',
        'skylights': 'Skylights',
        'ventilation_openings': 'Ventilation Openings',
        'structural_reinforcements': 'Structural Reinforcements',
        'wall_reinforcement': 'Wall Reinforcement',
        'roof_reinforcement': 'Roof Reinforcement',
        'floor_reinforcement': 'Floor Reinforcement',
        'additional_support': 'Additional Support Beams',
        'systems_utilities': 'Systems & Utilities',
        'electrical_system': 'Electrical System',
        'plumbing_system': 'Plumbing System',
        'hvac_system': 'HVAC System',
        'insulation_package': 'Insulation Package',
        'interior_finishes': 'Interior Finishes',
        'finish_level': 'Finish Level',
        'flooring': 'Flooring',
        'configuration_summary': 'Configuration Summary',
        'base_container': 'Base Container:',
        'use_case': 'Use Case:',
        'occupancy': 'Occupancy:',
        'people': 'people',
        'key_modifications': 'Key Modifications:',
        'container_visualization': 'Container Visualization',
        'save_configuration': 'Save Configuration',
        'configuration_saved': 'Configuration saved successfully!',
        'complete_configuration': 'Please complete the configuration before saving.',
        'currency': '€',
        'total_cost': 'Total Cost',
        'estimate_generated': 'AI cost estimate generated successfully!',
        'error_generating_estimate': 'Error generating AI estimate:',
        'check_api_keys': 'Please check your API keys and try again.',
        'ai_model_selection': 'AI Model Selection',
        'choose_ai_model': 'Choose AI Model',
        'estimation_depth': 'Estimation Depth',
        'estimation_parameters': 'Estimation Parameters',
        'project_location': 'Project Location',
        'project_timeline': 'Project Timeline',
        'quality_level': 'Quality Level',
        'additional_requirements': 'Additional Requirements',
        'special_requirements': 'Special Requirements or Notes',
        'generate_ai_estimate': 'Generate AI Cost Estimate',
        'ai_analyzing': 'AI is analyzing your configuration and generating cost estimates...',
        'openai_quota_exceeded': 'OpenAI quota exceeded. Using Anthropic Claude instead.',
        'using_claude_only': 'OpenAI quota exceeded. Using Anthropic Claude only.',
        'ai_unavailable': 'AI analysis temporarily unavailable, showing structural calculations only',
        'historical_data_import': 'Historical Data Import - Import Your 2-Year Calculation Results',
        'improve_pricing_accuracy': '**Improve pricing accuracy by importing your historical project data!**',
        'upload_historical_data': 'Upload your past 2 years of container modification projects to:',
        'get_accurate_estimates': '- Get more accurate cost estimates based on real project outcomes',
        'analyze_pricing_trends': '- Analyze pricing trends and seasonal variations',
        'identify_profitable_projects': '- Identify your most profitable project types',
        'build_customer_confidence': '- Build customer confidence with data-backed quotes',
        'upload_historical_file': 'Upload historical data (CSV or Excel)',
        'upload_help_text': 'Upload your historical project data to improve pricing accuracy',
        'import_historical_data': 'Import Historical Data',
        'processing_data': 'Processing your historical data...',
        'successfully_imported': 'Successfully imported {count} historical projects!',
        'pricing_accuracy_improved': 'Your pricing accuracy will now improve based on this historical data!',
        'import_failed': 'Failed to import data. Please check the format.',
        'error_processing_file': 'Error processing file: {error}',
        'download_data_template': 'Download Data Template',
        'download_csv_template': 'Download CSV Template',
        'language_selector': 'Language / Język / Sprache / Taal',
        'choose_language': 'Choose language:',
        'company_info': {
            'name': 'KAN-BUD',
            'address': 'Kąkolewo, Poland',
            'phone': '+48 XXX XXX XXX',
            'email': 'info@kan-bud.pl',
            'website': 'www.kan-bud.pl'
        }
    },
    'pl': {
        'app_title': 'KAN-BUD Profesjonalne Rozwiązania Kontenerowe',
        'app_subtitle': 'Zaawansowana Platforma Modyfikacji Kontenerów Stalowych i Szacowania Kosztów',
        'navigation': 'Nawigacja',
        'pages_available': 'Dostępne Strony:',
        'container_configurator': 'Konfigurator Kontenerów',
        'ai_cost_estimator': 'Szacowanie Kosztów AI',
        'technical_analysis': 'Analiza Techniczna',
        'quote_generator': 'Generator Wycen',
        'comparison_tool': 'Narzędzie Porównań',
        'quick_stats': 'Szybkie Statystyki',
        'available_container_types': 'Dostępne Typy Kontenerów',
        'standard_sizes': 'Standardowe Rozmiary',
        'modification_categories': 'Kategorie Modyfikacji',
        'quick_overview': 'Szybki Przegląd',
        'container_modification_services': 'Usługi Modyfikacji Kontenerów:',
        'key_features': 'Kluczowe Funkcje',
        'ai_powered_analysis': 'Analiza Wspomagana AI:',
        'sales_tools': 'Narzędzia Sprzedażowe',
        'professional_outputs': 'Profesjonalne Wyniki:',
        'market_insights': 'Analiza Rynku',
        'steel_price_trends': 'Trendy Cen Stali 2024',
        'quick_actions': 'Szybkie Akcje',
        'new_container_project': 'Nowy Projekt Kontenera',
        'get_ai_cost_estimate': 'Otrzymaj Wycenę AI',
        'view_technical_analysis': 'Analiza Techniczna',
        'generate_quote': 'Wygeneruj Ofertę',
        'tips': 'Wskazówki',
        'best_practices': 'Najlepsze Praktyki:',
        'configure_container': 'Skonfiguruj specyfikacje kontenera i modyfikacje',
        'base_container_specs': 'Specyfikacje Podstawowego Kontenera',
        'container_type': 'Typ Kontenera',
        'length': 'Długość (m)',
        'width': 'Szerokość (m)',
        'height': 'Wysokość (m)',
        'weight': 'Waga (kg)',
        'intended_use_case': 'Przeznaczenie',
        'primary_use_case': 'Główne Przeznaczenie',
        'expected_occupancy': 'Oczekiwana Obsada',
        'environment': 'Środowisko',
        'modification_requirements': 'Wymagania Modyfikacji',
        'structural_modifications': 'Modyfikacje Strukturalne',
        'number_of_windows': 'Liczba Okien',
        'number_of_doors': 'Liczba Drzwi',
        'skylights': 'Świetliki',
        'ventilation_openings': 'Otwory Wentylacyjne',
        'structural_reinforcements': 'Wzmocnienia Strukturalne',
        'wall_reinforcement': 'Wzmocnienie Ścian',
        'roof_reinforcement': 'Wzmocnienie Dachu',
        'floor_reinforcement': 'Wzmocnienie Podłogi',
        'additional_support': 'Dodatkowe Wsporniki',
        'systems_utilities': 'Systemy i Instalacje',
        'electrical_system': 'System Elektryczny',
        'plumbing_system': 'System Hydrauliczny',
        'hvac_system': 'System HVAC',
        'insulation_package': 'Pakiet Izolacji',
        'interior_finishes': 'Wykończenia Wnętrz',
        'finish_level': 'Poziom Wykończenia',
        'flooring': 'Podłogi',
        'configuration_summary': 'Podsumowanie Konfiguracji',
        'base_container': 'Kontener Podstawowy:',
        'use_case': 'Przeznaczenie:',
        'occupancy': 'Obsada:',
        'people': 'osób',
        'key_modifications': 'Kluczowe Modyfikacje:',
        'container_visualization': 'Wizualizacja Kontenera',
        'save_configuration': 'Zapisz Konfigurację',
        'configuration_saved': 'Konfiguracja zapisana pomyślnie!',
        'complete_configuration': 'Proszę uzupełnić konfigurację przed zapisem.',
        'currency': '€',
        'total_cost': 'Całkowity Koszt',
        'estimate_generated': 'Wycena AI wygenerowana pomyślnie!',
        'error_generating_estimate': 'Błąd podczas generowania wyceny AI:',
        'check_api_keys': 'Proszę sprawdzić klucze API i spróbować ponownie.',
        'ai_model_selection': 'Wybór Modelu AI',
        'choose_ai_model': 'Wybierz Model AI',
        'estimation_depth': 'Głębokość Szacowania',
        'estimation_parameters': 'Parametry Szacowania',
        'project_location': 'Lokalizacja Projektu',
        'project_timeline': 'Harmonogram Projektu',
        'quality_level': 'Poziom Jakości',
        'additional_requirements': 'Dodatkowe Wymagania',
        'special_requirements': 'Specjalne Wymagania lub Uwagi',
        'generate_ai_estimate': 'Wygeneruj Wycenę AI',
        'ai_analyzing': 'AI analizuje konfigurację i generuje wyceny kosztów...',
        'openai_quota_exceeded': 'Przekroczono limit OpenAI. Używam Anthropic Claude.',
        'using_claude_only': 'Przekroczono limit OpenAI. Używam tylko Anthropic Claude.',
        'ai_unavailable': 'Analiza AI tymczasowo niedostępna, pokazuję tylko obliczenia strukturalne',
        'historical_data_import': 'Import Danych Historycznych - Importuj Swoje 2-letnie Wyniki Obliczeń',
        'improve_pricing_accuracy': '**Popraw dokładność wycen importując dane historyczne projektów!**',
        'upload_historical_data': 'Prześlij dane z ostatnich 2 lat modyfikacji kontenerów aby:',
        'get_accurate_estimates': '- Otrzymywać dokładniejsze wyceny na podstawie rzeczywistych wyników projektów',
        'analyze_pricing_trends': '- Analizować trendy cenowe i wahania sezonowe',
        'identify_profitable_projects': '- Identyfikować najbardziej dochodowe typy projektów',
        'build_customer_confidence': '- Budować zaufanie klientów dzięki wycenom opartym na danych',
        'upload_historical_file': 'Prześlij dane historyczne (CSV lub Excel)',
        'upload_help_text': 'Prześlij dane historyczne projektów aby poprawić dokładność wycen',
        'import_historical_data': 'Importuj Dane Historyczne',
        'processing_data': 'Przetwarzanie danych historycznych...',
        'successfully_imported': 'Pomyślnie zaimportowano {count} projektów historycznych!',
        'pricing_accuracy_improved': 'Dokładność wycen zostanie teraz poprawiona na podstawie tych danych historycznych!',
        'import_failed': 'Nie udało się zaimportować danych. Sprawdź format pliku.',
        'error_processing_file': 'Błąd przetwarzania pliku: {error}',
        'download_data_template': 'Pobierz Szablon Danych',
        'download_csv_template': 'Pobierz Szablon CSV',
        'language_selector': 'Język / Language / Sprache / Taal',
        'choose_language': 'Wybierz język:',
        'company_info': {
            'name': 'KAN-BUD',
            'address': 'Kąkolewo, Polska',
            'phone': '+48 XXX XXX XXX',
            'email': 'info@kan-bud.pl',
            'website': 'www.kan-bud.pl'
        }
    },
    'de': {
        'app_title': 'KAN-BUD Professionelle Container-Lösungen',
        'app_subtitle': 'Erweiterte Plattform für Stahlcontainer-Modifikation und Kostenschätzung',
        'navigation': 'Navigation',
        'pages_available': 'Verfügbare Seiten:',
        'container_configurator': 'Container-Konfigurator',
        'ai_cost_estimator': 'KI-Kostenschätzer',
        'technical_analysis': 'Technische Analyse',
        'quote_generator': 'Angebotsgenerator',
        'comparison_tool': 'Vergleichstool',
        'quick_stats': 'Schnellstatistiken',
        'available_container_types': 'Verfügbare Container-Typen',
        'standard_sizes': 'Standardgrößen',
        'modification_categories': 'Modifikationskategorien',
        'quick_overview': 'Schnellübersicht',
        'container_modification_services': 'Container-Modifikationsdienste:',
        'key_features': 'Hauptmerkmale',
        'ai_powered_analysis': 'KI-gestützte Analyse:',
        'sales_tools': 'Verkaufstools',
        'professional_outputs': 'Professionelle Ausgaben:',
        'market_insights': 'Markteinblicke',
        'steel_price_trends': 'Stahlpreistrends 2024',
        'quick_actions': 'Schnellaktionen',
        'new_container_project': 'Neues Container-Projekt',
        'get_ai_cost_estimate': 'KI-Kostenschätzung erhalten',
        'view_technical_analysis': 'Technische Analyse',
        'generate_quote': 'Angebot erstellen',
        'tips': 'Tipps',
        'best_practices': 'Bewährte Praktiken:',
        'configure_container': 'Container-Spezifikationen und Modifikationen konfigurieren',
        'base_container_specs': 'Basis-Container-Spezifikationen',
        'container_type': 'Container-Typ',
        'length': 'Länge (m)',
        'width': 'Breite (m)',
        'height': 'Höhe (m)',
        'weight': 'Gewicht (kg)',
        'intended_use_case': 'Verwendungszweck',
        'primary_use_case': 'Hauptverwendungszweck',
        'expected_occupancy': 'Erwartete Belegung',
        'environment': 'Umgebung',
        'modification_requirements': 'Modifikationsanforderungen',
        'structural_modifications': 'Strukturelle Modifikationen',
        'number_of_windows': 'Anzahl Fenster',
        'number_of_doors': 'Anzahl Türen',
        'skylights': 'Oberlichter',
        'ventilation_openings': 'Belüftungsöffnungen',
        'structural_reinforcements': 'Strukturelle Verstärkungen',
        'wall_reinforcement': 'Wandverstärkung',
        'roof_reinforcement': 'Dachverstärkung',
        'floor_reinforcement': 'Bodenverstärkung',
        'additional_support': 'Zusätzliche Stützbalken',
        'systems_utilities': 'Systeme & Versorgung',
        'electrical_system': 'Elektrisches System',
        'plumbing_system': 'Sanitärsystem',
        'hvac_system': 'HLK-System',
        'insulation_package': 'Isolierungspaket',
        'interior_finishes': 'Innenausstattung',
        'finish_level': 'Ausstattungsniveau',
        'flooring': 'Bodenbelag',
        'configuration_summary': 'Konfigurationszusammenfassung',
        'base_container': 'Basis-Container:',
        'use_case': 'Verwendungszweck:',
        'occupancy': 'Belegung:',
        'people': 'Personen',
        'key_modifications': 'Hauptmodifikationen:',
        'container_visualization': 'Container-Visualisierung',
        'save_configuration': 'Konfiguration speichern',
        'configuration_saved': 'Konfiguration erfolgreich gespeichert!',
        'complete_configuration': 'Bitte vervollständigen Sie die Konfiguration vor dem Speichern.',
        'currency': '€',
        'total_cost': 'Gesamtkosten',
        'estimate_generated': 'KI-Kostenschätzung erfolgreich erstellt!',
        'error_generating_estimate': 'Fehler beim Erstellen der KI-Schätzung:',
        'check_api_keys': 'Bitte überprüfen Sie Ihre API-Schlüssel und versuchen Sie es erneut.',
        'ai_model_selection': 'KI-Modellauswahl',
        'choose_ai_model': 'KI-Modell wählen',
        'estimation_depth': 'Schätzungstiefe',
        'estimation_parameters': 'Schätzungsparameter',
        'project_location': 'Projektstandort',
        'project_timeline': 'Projektzeitplan',
        'quality_level': 'Qualitätsniveau',
        'additional_requirements': 'Zusätzliche Anforderungen',
        'special_requirements': 'Besondere Anforderungen oder Anmerkungen',
        'generate_ai_estimate': 'KI-Kostenschätzung erstellen',
        'ai_analyzing': 'KI analysiert Ihre Konfiguration und erstellt Kostenschätzungen...',
        'openai_quota_exceeded': 'OpenAI-Kontingent überschritten. Verwende Anthropic Claude stattdessen.',
        'using_claude_only': 'OpenAI-Kontingent überschritten. Verwende nur Anthropic Claude.',
        'ai_unavailable': 'KI-Analyse vorübergehend nicht verfügbar, zeige nur strukturelle Berechnungen',
        'company_info': {
            'name': 'KAN-BUD',
            'address': 'Kąkolewo, Polen',
            'phone': '+48 XXX XXX XXX',
            'email': 'info@kan-bud.pl',
            'website': 'www.kan-bud.pl'
        }
    },
    'nl': {
        'app_title': 'KAN-BUD Professionele Container Oplossingen',
        'app_subtitle': 'Geavanceerd Platform voor Staalcontainer Modificatie en Kostenschatting',
        'navigation': 'Navigatie',
        'pages_available': 'Beschikbare Pagina\'s:',
        'container_configurator': 'Container Configurator',
        'ai_cost_estimator': 'AI Kostenschatter',
        'technical_analysis': 'Technische Analyse',
        'quote_generator': 'Offerte Generator',
        'comparison_tool': 'Vergelijkingstool',
        'quick_stats': 'Snelle Statistieken',
        'available_container_types': 'Beschikbare Container Types',
        'standard_sizes': 'Standaardmaten',
        'modification_categories': 'Modificatiecategorieën',
        'quick_overview': 'Snel Overzicht',
        'container_modification_services': 'Container Modificatie Diensten:',
        'key_features': 'Hoofdkenmerken',
        'ai_powered_analysis': 'AI-aangedreven Analyse:',
        'sales_tools': 'Verkooptools',
        'professional_outputs': 'Professionele Uitgangen:',
        'market_insights': 'Marktinzichten',
        'steel_price_trends': 'Staalprijstrends 2024',
        'quick_actions': 'Snelle Acties',
        'new_container_project': 'Nieuw Container Project',
        'get_ai_cost_estimate': 'AI Kostenschatting Krijgen',
        'view_technical_analysis': 'Technische Analyse',
        'generate_quote': 'Offerte Genereren',
        'tips': 'Tips',
        'best_practices': 'Beste Praktijken:',
        'configure_container': 'Configureer containerspecificaties en modificaties',
        'base_container_specs': 'Basis Container Specificaties',
        'container_type': 'Container Type',
        'length': 'Lengte (m)',
        'width': 'Breedte (m)',
        'height': 'Hoogte (m)',
        'weight': 'Gewicht (kg)',
        'intended_use_case': 'Beoogd Gebruik',
        'primary_use_case': 'Primair Gebruik',
        'expected_occupancy': 'Verwachte Bezetting',
        'environment': 'Omgeving',
        'modification_requirements': 'Modificatievereisten',
        'structural_modifications': 'Structurele Modificaties',
        'number_of_windows': 'Aantal Ramen',
        'number_of_doors': 'Aantal Deuren',
        'skylights': 'Dakramen',
        'ventilation_openings': 'Ventilatieopeningen',
        'structural_reinforcements': 'Structurele Versterkingen',
        'wall_reinforcement': 'Wandversterking',
        'roof_reinforcement': 'Dakversterking',
        'floor_reinforcement': 'Vloerversterking',
        'additional_support': 'Extra Steunbalken',
        'systems_utilities': 'Systemen & Voorzieningen',
        'electrical_system': 'Elektrisch Systeem',
        'plumbing_system': 'Loodgieterswerk',
        'hvac_system': 'HVAC Systeem',
        'insulation_package': 'Isolatiepakket',
        'interior_finishes': 'Binnenafwerking',
        'finish_level': 'Afwerkingsniveau',
        'flooring': 'Vloerbedekking',
        'configuration_summary': 'Configuratiesamenvatting',
        'base_container': 'Basis Container:',
        'use_case': 'Gebruik:',
        'occupancy': 'Bezetting:',
        'people': 'personen',
        'key_modifications': 'Belangrijke Modificaties:',
        'container_visualization': 'Container Visualisatie',
        'save_configuration': 'Configuratie Opslaan',
        'configuration_saved': 'Configuratie succesvol opgeslagen!',
        'complete_configuration': 'Voltooi de configuratie voordat u opslaat.',
        'currency': '€',
        'total_cost': 'Totale Kosten',
        'estimate_generated': 'AI kostenschatting succesvol gegenereerd!',
        'error_generating_estimate': 'Fout bij het genereren van AI schatting:',
        'check_api_keys': 'Controleer uw API-sleutels en probeer opnieuw.',
        'ai_model_selection': 'AI Model Selectie',
        'choose_ai_model': 'Kies AI Model',
        'estimation_depth': 'Schattingsdiepte',
        'estimation_parameters': 'Schattingsparameters',
        'project_location': 'Projectlocatie',
        'project_timeline': 'Projecttijdlijn',
        'quality_level': 'Kwaliteitsniveau',
        'additional_requirements': 'Aanvullende Vereisten',
        'special_requirements': 'Speciale Vereisten of Opmerkingen',
        'generate_ai_estimate': 'AI Kostenschatting Genereren',
        'ai_analyzing': 'AI analyseert uw configuratie en genereert kostenschattingen...',
        'openai_quota_exceeded': 'OpenAI quotum overschreden. Gebruik Anthropic Claude in plaats daarvan.',
        'using_claude_only': 'OpenAI quotum overschreden. Gebruik alleen Anthropic Claude.',
        'ai_unavailable': 'AI analyse tijdelijk niet beschikbaar, toon alleen structurele berekeningen',
        'company_info': {
            'name': 'KAN-BUD',
            'address': 'Kąkolewo, Polen',
            'phone': '+48 XXX XXX XXX',
            'email': 'info@kan-bud.pl',
            'website': 'www.kan-bud.pl'
        }
    }
}

def get_text(key: str, lang: str = 'en') -> str:
    """Get translated text for given key and language"""
    if lang not in translations:
        lang = 'en'  # fallback to English
    
    # Handle nested keys like 'company_info.name'
    if '.' in key:
        keys = key.split('.')
        value = translations[lang]
        for k in keys:
            if isinstance(value, dict) and k in value:
                value = value[k]
            else:
                # Fallback to English if key not found
                value = translations['en']
                for k in keys:
                    if isinstance(value, dict) and k in value:
                        value = value[k]
                    else:
                        return key  # Return key if not found anywhere
                break
        return str(value)
    
    return translations[lang].get(key, translations['en'].get(key, key))

def get_available_languages() -> dict:
    """Get available languages with their names"""
    return {
        'en': 'English',
        'pl': 'Polski',
        'de': 'Deutsch', 
        'nl': 'Nederlands'
    }